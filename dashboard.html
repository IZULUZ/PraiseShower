<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>âœ¨ ì¹­ì°¬ ìƒ¤ì›Œ - ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ</title>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;800&display=swap" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <style>
        body { font-family: 'Pretendard', sans-serif; background: #f0f2f5; margin: 0; padding: 40px; }
        h1 { text-align: center; color: #333; font-size: 3rem; margin-bottom: 50px; font-weight: 800; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; }
        .card { 
            background: white; border-radius: 25px; padding: 25px; 
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            display: flex; align-items: center;
            border-bottom: 6px solid #7c6df2;
            animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            60% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }
        .card-emoji { font-size: 50px; margin-right: 20px; background: #f8f9fa; border-radius: 50%; width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
        .card-content h3 { margin: 0; font-size: 18px; color: #7c6df2; }
        .card-content p { margin: 8px 0 0; font-size: 20px; font-weight: 700; color: #222; word-break: break-all; }
        #resetBtn { position: fixed; top: 20px; right: 20px; background: rgba(0,0,0,0.4); color: white; border: none; padding: 10px 15px; border-radius: 12px; cursor: pointer; transition: 0.3s; }
        #resetBtn:hover { background: #ff5c78; }
    </style>
</head>
<body>
    <h1>ğŸŒŸ ìš°ë¦¬ ë°˜ ì¹­ì°¬ ìƒ¤ì›Œ í˜„í™© ğŸŒŸ</h1>
    <div class="grid" id="praiseContainer"></div>
    <button id="resetBtn" onclick="resetData()">ì „ì²´ ë°ì´í„° ì´ˆê¸°í™”</button>

    <script>
        // [ì¤‘ìš”] í•™ìƒìš© íŒŒì¼ê³¼ ë™ì¼í•œ Firebase ì„¤ì •ì„ ë„£ìœ¼ì„¸ìš”
        const firebaseConfig = {
           apiKey: "AIzaSyB-VtvKGjQPM1bggwdk-Ss-83ECkJFVbRQ",
           authDomain: "praise-shower.firebaseapp.com",
           projectId: "praise-shower",
           storageBucket: "praise-shower.firebasestorage.app",
           messagingSenderId: "385532293164",
           appId: "1:385532293164:web:1ec7da4f97ba075b8a6189"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const container = document.getElementById('praiseContainer');

        // ì‹¤ì‹œê°„ ìˆ˜ì‹ ë¶€ (ì•ˆì •ì„± ê°•í™”: ì¤‘ë³µ ë¡œë“œ ë°©ì§€)
        database.ref('praises/').on('child_added', (snapshot) => {
            const data = snapshot.val();
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
                <div class="card-emoji">${data.emoji}</div>
                <div class="card-content">
                    <h3>${data.number}ë²ˆ ${data.name}</h3>
                    <p>${data.message}</p>
                </div>
            `;
            container.prepend(card);
        });

        function resetData() {
            if(confirm("ì •ë§ë¡œ ëª¨ë“  ì¹­ì°¬ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ìˆ˜ì—… ì¢…ë£Œ í›„ì—ë§Œ ì‚¬ìš©í•˜ì„¸ìš”.")) {
                database.ref('praises/').remove().then(() => {
                    alert("ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.");
                    location.reload();
                });
            }
        }
    </script>
</body>
</html>
